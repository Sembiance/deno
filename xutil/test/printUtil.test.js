/* eslint-disable max-len */
import {xu} from "xu";
import * as printUtil from "../printUtil.js";
import {base64Encode, assertStrictEquals} from "std";

Deno.test("minorHeader", () => assertStrictEquals(base64Encode(printUtil.minorHeader("Minor Header", { prefix : "prefix\n", suffix : "suffix\n"})), "cHJlZml4ChtbOTdtTWlub3IgSGVhZGVyG1swbQobWzk2bS0tLS0tLS0tLS0tLRtbMG1zdWZmaXgK"));
Deno.test("majorHeader", () => assertStrictEquals(base64Encode(printUtil.majorHeader("Major Header", { prefix : "prefix\n", suffix : "suffix\n"})), "cHJlZml4ChtbOTZtLy0tLS0tLS0tLS0tLS0tXBtbMG0KG1s5Nm18IBtbMG0bWzk3bU1ham9yIEhlYWRlchtbMG0bWzk2bSB8G1swbQobWzk2bVwtLS0tLS0tLS0tLS0tLS8bWzBtc3VmZml4Cg=="));
Deno.test("list", () => assertStrictEquals(base64Encode(printUtil.list(["red", "green", "blue", "orange"], { prefix : "prefix\n", suffix : "suffix\n", header : "List" })), "cHJlZml4ChtbOTdtTGlzdBtbMG0KG1s5Nm0tLS0tG1swbSAgG1s5M20qG1swbSByZWQKICAbWzkzbSobWzBtIGdyZWVuCiAgG1s5M20qG1swbSBibHVlCiAgG1s5M20qG1swbSBvcmFuZ2UKc3VmZml4Cg=="));
Deno.test("singleLineBooleanPie", () => assertStrictEquals(base64Encode(printUtil.singleLineBooleanPie({"true" : 6407, "false" : 1477}, "Single Line Boolean Pie")), "G1s5N21TaW5nbGUgTGluZSBCb29sZWFuIFBpZRtbMG06IBtbOTNtdHJ1ZRtbMG0gNiw0MDcgKDgxJSkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAbWzkzbWZhbHNlG1swbSAxLDQ3NyAoMTklKQogICAgICAgICAgICAgICAgICAgICAgICAbWzk2bVsbWzBtG1szODs1OzIwOG3ilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilogbWzBtG1szODs1OzkzbeKWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiBtbMG0bWzk2bV0bWzBt"));
Deno.test("columnizeObjects", () => assertStrictEquals(base64Encode(printUtil.columnizeObjects([
	{name : "banana", count : 20193, happy : true},
	{name : "cherry", count : 30, happy : false},
	{name : xu.cf.fg.peach("peach"), count : 202, happy : false},
	{name : "plum", count : 1993, happy : false},
	{name : "nectarine", count : 9999, happy : true}
], {colNameMap : {name : "THE Name"}, booleanValues : ["AYE", "NAY"], color : {name : "yellow", count : "fogGray", happy : v => (v ? "green" : "red")}})), "G1s5N21USEUgTmFtZRtbMG0gICAgICAbWzk3bUNvdW50G1swbSAgICAgIBtbOTdtSGFwcHkbWzBtICAgICAKG1s5Nm0tLS0tLS0tLS0bWzBtICAgICAbWzk2bS0tLS0tLRtbMG0gICAgIBtbOTZtLS0tLS0bWzBtICAgICAKG1s5M21iYW5hbmEbWzBtICAgICAgICAbWzM4OzU7MjUwbTIwLDE5MxtbMG0gICAgICAbWzkybUFZRRtbMG0gICAgICAKG1s5M21jaGVycnkbWzBtICAgICAgICAgICAgG1szODs1OzI1MG0zMBtbMG0gICAgICAbWzkxbU5BWRtbMG0gICAgICAKG1s5M20bWzM4OzU7MjAzbXBlYWNoG1swbRtbMG0gICAgICAgICAgICAbWzM4OzU7MjUwbTIwMhtbMG0gICAgICAbWzkxbU5BWRtbMG0gICAgICAKG1s5M21wbHVtG1swbSAgICAgICAgICAgG1szODs1OzI1MG0xLDk5MxtbMG0gICAgICAbWzkxbU5BWRtbMG0gICAgICAKG1s5M21uZWN0YXJpbmUbWzBtICAgICAgG1szODs1OzI1MG05LDk5ORtbMG0gICAgICAbWzkybUFZRRtbMG0gICAgICAK"));
Deno.test("multiLineBarChart", () => assertStrictEquals(base64Encode(printUtil.multiLineBarChart({Banana : 6407, Pear : 570, Cherry : 7421, Peach : 2, Plum : 722, Nectarine : 2224, Apple : 347, Grape : 1600}, "Multi-Line Bar Chart")), "ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAbWzkzbU11bHRpLUxpbmUgQmFyIENoYXJ0G1swbQobWzk2bT0bWzBtG1s5Nm09G1swbRtbOTZtPRtbMG0bWzk2bT0bWzBtG1s5Nm09G1swbRtbOTZtPRtbMG0bWzk2bT0bWzBtG1s5Nm09G1swbRtbOTZtPRtbMG0bWzk2bT0bWzBtG1s5Nm09G1swbRtbOTZtPRtbMG0bWzk2bT0bWzBtG1s5Nm09G1swbRtbOTZtPRtbMG0bWzk2bT0bWzBtG1s5Nm09G1swbRtbOTZtPRtbMG0bWzk2bT0bWzBtG1s5Nm09G1swbRtbOTZtPRtbMG0bWzk2bT0bWzBtG1s5Nm09G1swbRtbOTZtPRtbMG0bWzk2bT0bWzBtG1s5Nm09G1swbRtbOTZtPRtbMG0bWzk2bT0bWzBtG1s5Nm09G1swbRtbOTZtPRtbMG0bWzk2bT0bWzBtG1s5Nm09G1swbRtbOTZtPRtbMG0bWzk2bT0bWzBtG1s5Nm09G1swbRtbOTZtPRtbMG0bWzk2bT0bWzBtG1s5Nm09G1swbRtbOTZtPRtbMG0bWzk2bT0bWzBtG1s5Nm09G1swbRtbOTZtPRtbMG0bWzk2bT0bWzBtG1s5Nm09G1swbRtbOTZtPRtbMG0bWzk2bT0bWzBtG1s5Nm09G1swbRtbOTZtPRtbMG0bWzk2bT0bWzBtG1s5Nm09G1swbRtbOTZtPRtbMG0bWzk2bT0bWzBtG1s5Nm09G1swbRtbOTZtPRtbMG0bWzk2bT0bWzBtG1s5Nm09G1swbRtbOTZtPRtbMG0bWzk2bT0bWzBtG1s5Nm09G1swbRtbOTZtPRtbMG0bWzk2bT0bWzBtG1s5Nm09G1swbRtbOTZtPRtbMG0bWzk2bT0bWzBtG1s5Nm09G1swbRtbOTZtPRtbMG0bWzk2bT0bWzBtG1s5Nm09G1swbRtbOTZtPRtbMG0bWzk2bT0bWzBtG1s5Nm09G1swbRtbOTZtPRtbMG0bWzk2bT0bWzBtG1s5Nm09G1swbRtbOTZtPRtbMG0bWzk2bT0bWzBtG1s5Nm09G1swbRtbOTZtPRtbMG0bWzk2bT0bWzBtG1s5Nm09G1swbRtbOTZtPRtbMG0bWzk2bT0bWzBtG1s5Nm09G1swbRtbOTZtPRtbMG0bWzk2bT0bWzBtG1s5Nm09G1swbRtbOTZtPRtbMG0bWzk2bT0bWzBtG1s5Nm09G1swbRtbOTZtPRtbMG0bWzk2bT0bWzBtG1s5Nm09G1swbRtbOTZtPRtbMG0bWzk2bT0bWzBtG1s5Nm09G1swbRtbOTZtPRtbMG0bWzk2bT0bWzBtG1s5Nm09G1swbRtbOTZtPRtbMG0bWzk2bT0bWzBtG1s5Nm09G1swbRtbOTZtPRtbMG0bWzk2bT0bWzBtG1s5Nm09G1swbRtbOTZtPRtbMG0bWzk2bT0bWzBtG1s5Nm09G1swbRtbOTZtPRtbMG0bWzk2bT0bWzBtG1s5Nm09G1swbRtbOTZtPRtbMG0bWzk2bT0bWzBtG1s5Nm09G1swbRtbOTZtPRtbMG0bWzk2bT0bWzBtG1s5Nm09G1swbRtbOTZtPRtbMG0bWzk2bT0bWzBtG1s5Nm09G1swbRtbOTZtPRtbMG0KG1szMm0gICBDaGVycnkbWzBtG1s5Nm06G1swbSAbWzM4OzU7MjA4beKWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiBtbMG0gG1s5N203LDQyMRtbMG0gKDM4JSkKG1szMm0gICBCYW5hbmEbWzBtG1s5Nm06G1swbSAbWzM4OzU7OTNt4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paIG1swbSAbWzk3bTYsNDA3G1swbSAoMzMlKQobWzMybU5lY3RhcmluZRtbMG0bWzk2bTobWzBtIBtbMzg7NTsyM23ilojilojilojilojilojilojilojilojilojilojilojilojilogbWzBtIBtbOTdtMiwyMjQbWzBtICgxMiUpChtbMzJtICAgIEdyYXBlG1swbRtbOTZtOhtbMG0gG1szODs1OzE5MG3ilojilojilojilojilojilojilojilojilogbWzBtIBtbOTdtMSw2MDAbWzBtICg4JSkKG1szMm0gICAgIFBsdW0bWzBtG1s5Nm06G1swbSAbWzM4OzU7MTYzbeKWiOKWiOKWiOKWiBtbMG0gG1s5N203MjIbWzBtICg0JSkKG1szMm0gICAgIFBlYXIbWzBtG1s5Nm06G1swbSAbWzM4OzU7Mjdt4paI4paI4paIG1swbSAbWzk3bTU3MBtbMG0gKDMlKQobWzMybSAgICBBcHBsZRtbMG0bWzk2bTobWzBtIBtbMzg7NTsyNTBt4paI4paIG1swbSAbWzk3bTM0NxtbMG0gKDIlKQobWzMybSAgICBQZWFjaBtbMG0bWzk2bTobWzBtIBtbMzg7NTsyMDht4paIG1swbSAbWzk3bTIbWzBtICgwJSkKCg=="));

const data = {"Caught In Providence":32290.374628999987,"Modern Vintage Gamer":113.513397,"EEVblog":714.487251,"Veritasium":352.376326,"CNBC":909.059292,"Jim Sterling":257.334544,"RetroGamerNation":126.720849,"Vox":223.839573,"Call of Duty":112.459649,"Fran Blanche":183.708694,"zefrank1":618.0456609999999,"Co-Optimus":1004.973411,"This Does Not Compute":228.332736,"Linus Tech Tips":113.831329,"ShortCircuit":114.89264,"Dan Wood":82.866959,"FilmCow":310.953356,"Tech Tangents":235.21229,"City Beautiful":60.568931,"The Dice Tower":475.626048,"SpaceX":20.56176};	// eslint-disable-line key-spacing, unicorn/numeric-separators-style, comma-spacing
data[xu.cf.fg.violet("A Critical Hit! | \"Critical Kate\" WillÃ¦rt")] = 23.762_941;
Deno.test("columnizeObject", () => assertStrictEquals(base64Encode(printUtil.columnizeObject(data, {
	formatter : (kv) => { kv[1] = kv[1]<1000 ? `${Math.round(kv[1])}M` : `${Math.round(kv[1]/1000)}G`; return kv; },	// eslint-disable-line arrow-parens
	header    : ["Show Name", "Disk Usage"],
	alignment : ["l", "r"],
	sorter    : (a, b) => (b[1]-a[1])})), "ICAgICAgICAgICAgICAgIFNob3cgTmFtZSAgICAgICAgICAgICAgICAgICAgIERpc2sgVXNhZ2UgICAgIAobWzk2bS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tG1swbSAgICAgG1s5Nm0tLS0tLS0tLS0tG1swbSAgICAgCkNhdWdodCBJbiBQcm92aWRlbmNlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMzJHICAgICAKQ28tT3B0aW11cyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMUcgICAgIApDTkJDICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOTA5TSAgICAgCkVFVmJsb2cgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA3MTRNICAgICAKemVmcmFuazEgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDYxOE0gICAgIApUaGUgRGljZSBUb3dlciAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgNDc2TSAgICAgClZlcml0YXNpdW0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAzNTJNICAgICAKRmlsbUNvdyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDMxMU0gICAgIApKaW0gU3RlcmxpbmcgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMjU3TSAgICAgClRlY2ggVGFuZ2VudHMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyMzVNICAgICAKVGhpcyBEb2VzIE5vdCBDb21wdXRlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIyOE0gICAgIApWb3ggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMjI0TSAgICAgCkZyYW4gQmxhbmNoZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxODRNICAgICAKUmV0cm9HYW1lck5hdGlvbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDEyN00gICAgIApTaG9ydENpcmN1aXQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMTE1TSAgICAgCkxpbnVzIFRlY2ggVGlwcyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxMTRNICAgICAKTW9kZXJuIFZpbnRhZ2UgR2FtZXIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDExNE0gICAgIApDYWxsIG9mIER1dHkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMTEyTSAgICAgCkRhbiBXb29kICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgODNNICAgICAKQ2l0eSBCZWF1dGlmdWwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA2MU0gICAgIAobWzM4OzU7OTNtQSBDcml0aWNhbCBIaXQhIHwgIkNyaXRpY2FsIEthdGUiIFdpbGzDpnJ0G1swbSAgICAgICAgICAgIDI0TSAgICAgClNwYWNlWCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMjFNICAgICAK"));
